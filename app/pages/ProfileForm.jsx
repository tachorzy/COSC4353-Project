import Head from 'next/head'
import Image from 'next/image'
import Router from 'next/router'
import { useState } from 'react'
import FuelQuoteForm from '../components/FuelQuoteForm.jsx'
import CalculationsBox from '../components/CalculationsBox.jsx'
import { Inter } from '@next/font/google'
import { Combo, Roboto, Rubik } from '@next/font/google'
import styles from '@/styles/Home.module.css'
import localFont from '@next/font/local'
import FuelQuoteStyle from '../styles/FuelQuoteStyle.module.css'
import FuelQuoteHistory from '../components/FuelQuoteHistory.jsx'

var UsaStates = require('usa-states').UsaStates;
var usStates = new UsaStates();
var statesAbrev = usStates.arrayOf('abbreviations');


const inter = Inter({ subsets: ['latin'] })

const roboto = Roboto({ 
  subsets: ['latin'], 
  weight: '400' 
})

const satoshi = localFont({
  src: '../fonts/Satoshi-Regular.otf',
  weight: '200'
})

export default function ProfileForm() {
  const [selectFirstName, selectedFirstName] = useState('');
  const [selectLastName, selectedLastName] = useState('');
  const [selectEmail, selectedEmail] = useState('');
  const [selectAddress1, selectedAddress1] = useState('');
  const [selectAddress2, selectedAddress2] = useState('');
  const [selectZip, selectedZip] = useState('');
  const [selectCity, selectedCity] = useState('');
  const [selectState, selectedState] = useState('');

  const handleFormSubmit = async (event) => {
    event.preventDefault();

    if (selectDate === "mm/dd/yyy" || selectGallons === "")
      return;

    try{
      router.push({
        pathname: 'calculate', //rename this to whatever actual api endpoint we'll end up having
        query: { date: selectDate, numOfGallons: selectGallons }, 
      })
    } catch(error){
      console.error(error)
    }
  };
  
  return (
    <>
      <Head>
        <title>Quotr</title>
        <meta name="description" content="Generated by create next app"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="icon" href="/favicon.ico"/>
      </Head>
      <main className={styles.main}>
        <div className={satoshi.className}>
          <div className="mr-3">
            <div className={roboto.className}>
              <form className={FuelQuoteStyle.container}>
              <div className={FuelQuoteStyle.inputContainer}>
                    <input className={FuelQuoteStyle.standardInputBox} placeholder={"First Name"} name="first-name" required/>
                </div>  
                <div className={FuelQuoteStyle.inputContainer}>
                    <input className={FuelQuoteStyle.standardInputBox} placeholder={"Last Name"} name="last-name" required/>
                </div>  
                <div className={FuelQuoteStyle.inputContainer}>
                    <input className={FuelQuoteStyle.standardInputBox} placeholder={"E-mail address"} name="email" required/>
                </div>  
                <div className={FuelQuoteStyle.inputContainer}>
                    <input className={FuelQuoteStyle.standardInputBox} placeholder={"Address 1"} name="delivery-address"required/>
                </div>
            
                <div className={FuelQuoteStyle.inputContainer}>
                    <input className={FuelQuoteStyle.standardInputBox} placeholder={"Address 2 (Optional)"} name="delivery-address2"/>
                </div>
                
                <div className={FuelQuoteStyle.splitContainer}>
                        <input  className={FuelQuoteStyle.smallInputBox} placeholder={"Zip Code"} name="zip-code" min ="5" max = "9" required />
                        <input  className={FuelQuoteStyle.smallInputBox} placeholder={"City"} name="city" min ="5" max = "9" required />
                        <select className={FuelQuoteStyle.xsmallInputBox} placeholder={"State"} name="state" id = "state">
                            {statesAbrev.map((state) => (
                            <option key={state} value={state}>
                            {state}
                            </option>
                            ))}
                        </select>       
                </div>
                  <buttton className={FuelQuoteStyle.calculateButton} name="calculate">{"Register Your Details!"}</buttton>
              </form>  
            </div>
          </div>

        </div>
      </main>
    </>
  )
}
